# 선 결론 : dp는 상태를 표현 하는 그래프이다

---

# DP에 대한 고찰 (이항계수로 이해한 핵심)

## 1. 점화식과 DP의 관계
- 점화식은 **큰 문제를 작은 문제로 쪼갠 계산 규칙**
- DP는 그 점화식을 **배열에 저장해서 중복 계산을 제거한 구현 방식**
- 즉,
    - 점화식 = 계산 논리
    - DP = 그 논리를 메모리에 펼쳐놓은 것

---

## 2. 상태(State)와 배열 차원
- DP 배열의 차원 수 = **상태를 결정하는 변수의 개수**
- 이항계수의 상태:
    - n: 전체 개수
    - k: 선택 개수
- → 변수 2개 → 2차원 배열 `dp[n][k]`

---

## 3. 이항계수 점화식의 의미
- 점화식:
    - `C(n, k) = C(n-1, k-1) + C(n-1, k)`
- 의미:
    - 특정 원소를 **선택하는 경우**
    - 특정 원소를 **선택하지 않는 경우**
- 경우의 수를 **서로 겹치지 않게 둘로 분해**한 결과

---

## 4. 2차원 DP의 구조
- `dp[i][j]` = i개 중 j개를 고르는 경우의 수
- i번째 행을 계산할 때 필요한 정보는:
    - 오직 `i-1`번째 행뿐
- 더 이전 행들은 다시 쓰이지 않음

---

## 5. 1차원 DP로 줄일 수 있었던 이유
- 점화식이 **이전 행(dp[i-1][*])만 참조**하기 때문
- 따라서:
    - 모든 행을 저장할 필요 없음
    - 현재 행의 상태만 유지하면 됨

---

## 6. 1차원 DP의 본질
- 1차원 DP는:
    - 2차원 DP의 "행"을 시간축으로 흘려보내고
    - "열(k)" 상태만 남긴 것
- 즉,
    - `dp[j] = 현재 i에서의 C(i, j)`
    - i는 반복문이 담당
    - 배열에는 j축만 존재

---

## 7. 뒤에서부터 순회해야 하는 이유
- 1차원 점화식:
    - `dp[j] = dp[j] + dp[j-1]`
- dp[j]와 dp[j-1]는 **모두 이전 행 값**이어야 함
- 앞에서부터 갱신하면:
    - dp[j-1]이 이미 현재 행 값으로 바뀜 → 오답
- 뒤에서부터 갱신하면:
    - 이전 행 값이 보존됨 → 점화식 성립

---

## 8. 1차원 DP 가능 여부 판단 기준
- 이 질문으로 판단 가능:
  > "현재 상태가 오직 바로 이전 단계 상태만 참조하는가?"
- YES → 1차원 DP 가능
- NO → 2차원 유지 필요

---

## 9. 정리
- DP는 공식을 외우는 기술이 아님
- 상태를 정의하고, 점화식이 참조하는 범위를 관찰하는 사고 방식
- 1차원 DP는 공간 최적화 트릭이 아니라
  **불필요한 상태를 제거한 결과**