# 🚀 최단 경로(Shortest Path) 알고리즘 총정리

상황(가중치의 유무 및 종류)에 따라 최적의 알고리즘을 선택하는 것이 핵심입니다.

## 1. 가중치가 없는 경우 (Unweighted)
### **BFS (Breadth-First Search)**
- **특징**: 큐(Queue)를 사용하여 시작점에서 가까운 정점부터 순차적으로 탐색합니다.
- **원리**: 먼저 방문한 노드가 반드시 최단 경로임을 보장합니다.
- **시간 복잡도**: $O(V + E)$
- **적용**: 미로 찾기, 네트워크 홉(Hop) 수 계산 등

## 2. 가중치가 양수인 경우 (Positive Weighted)
### **Dijkstra 알고리즘**
- **특징**: **Greedy(탐욕법)** 전략을 사용하며, 우선순위 큐(Priority Queue)를 통해 최적화합니다.
- **원리**: 현재 가장 짧은 거리를 가진 노드를 PQ에서 꺼내고, 그 노드를 거쳐가는 경로를 갱신하며 최단 경로를 **확정**지어 나갑니다.
- **조건**: 가중치가 양수일 때만 최단 경로가 보장됩니다.
- **시간 복잡도**: $O(E \log V)$

## 3. 가중치가 0 또는 1인 경우 (0-1 Weights)
### **0-1 BFS**
- **특징**: 데크(Deque)를 활용하여 다익스트라보다 빠르게 연산합니다.
- **원리**: 가중치가 0인 간선은 `addFirst()`, 1인 간선은 `addLast()`를 하여 가중치가 낮은 경로를 먼저 처리하게 합니다.
- **시간 복잡도**: $O(V + E)$

## 4. 가중치에 음수가 포함된 경우 (Negative Weighted)
### **Bellman-Ford 알고리즘**
- **특징**: 모든 간선을 전수 조사하는 **DP(다이나믹 프로그래밍)** 기반 방식입니다.
- **원리**: 모든 간선을 $V-1$번 순회하며 거리를 갱신(Relaxation)합니다.
- **음수 사이클 감지**: $V$번째 순회에서도 값이 갱신된다면, 무한히 거리가 줄어드는 '음수 사이클'이 존재한다고 판별합니다.
- **시간 복잡도**: $O(VE)$

## 5. 모든 정점 쌍의 최단 경로 (All-Pairs Shortest Path)
### **Floyd-Warshall 알고리즘**
- **특징**: 모든 정점에서 모든 정점으로의 최단 경로를 한 번에 구하는 **DP** 방식입니다.
- **원리**: **'경유지(k)'**를 기준으로 지도를 새로고침합니다. 특정 정점 $k$를 거쳐가는 것이 기존 경로보다 짧은지 전수 조사합니다.
- **시간 복잡도**: $O(V^3)$
- **적용**: 정점 수가 적고(보통 500 이하), 모든 쌍의 경로 또는 **최단 사이클**을 찾아야 할 때.

---

## 💡 요약 가이드 (Selection Table)

| 상황 | 추천 알고리즘 | 자료구조 | 시간 복잡도 |
|:---:|:---:|:---:|:---:|
| 가중치 없음 | **BFS** | Queue | $O(V + E)$ |
| 가중치 양수 | **Dijkstra** | Priority Queue | $O(E \log V)$ |
| 가중치 0, 1 | **0-1 BFS** | Deque | $O(V + E)$ |
| 음수 가중치/사이클 | **Bellman-Ford** | Edge List | $O(VE)$ |
| 모든 정점 쌍/사이클 | **Floyd-Warshall** | 2D Array | $O(V^3)$ |

---

## 🛠 2일간 shortestPath 학습 중 겪은 Deep Dive

1. **Dijkstra에서 왜 음수가 안 되나요?**
   - 다익스트라는 현재 노드를 '확정'하면 다시 보지 않는 Greedy 방식입니다. 하지만 음수 간선이 있으면 나중에 더 짧은 경로가 발견되어 앞선 '확정'이 틀릴 수 있기 때문입니다.

2. **Bellman-Ford의 반복 횟수가 왜 $V-1$인가요?**
   - 정점이 $V$개일 때 최단 경로는 최대 $V-1$개의 간선을 가질 수 있습니다. $V-1$번 순회는 시작점의 영향력이 마지막 노드까지 도달함을 보장하는 최소 횟수입니다.

3. **Floyd-Warshall 루프 순서가 왜 k-i-j 인가요?**
   - **경유지(k)가 반드시 가장 바깥 루프**여야 합니다. $k$를 경유지로 고정하고 지도를 업데이트해야만, 이전 단계($k-1$)에서 갱신된 최단 거리 정보가 다음 단계의 계산에 논리적으로 올바르게 재사용(DP)될 수 있기 때문입니다. (i-j-k 순서는 데이터 전파가 이루어지지 않음)

4. **Floyd-Warshall로 최단 사이클은 어떻게 찾나요?**
   - `dist[i][j] + dist[j][i]` 값을 전수 조사하여 최솟값을 찾습니다. 이때 `i == j` 초기화(0)를 생략하거나 `i != j` 조건을 주어, 자기 자신(0)이 아닌 최소 2개 이상의 정점을 거쳐 돌아오는 경로를 확인합니다.

---
최종 수정일: 2026-01-21